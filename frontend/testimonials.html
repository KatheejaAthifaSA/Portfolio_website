<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio - Testimonials</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <a href="index.html">
            <h1>My Portfolio</h1>
        </a>
        <nav>
            <a href="projects.html">Projects</a>
            <a href="skills.html">Skills</a>
            <a href="testimonials.html">Testimonials</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>

    <section>
        <h2>Testimonials</h2>
        <div id="testimonials-container" class="testimonials-container">
            <p>Loading testimonials...</p>
        </div>
    </section>

    <footer>
        &copy; 2025 My Portfolio. All Rights Reserved.
    </footer>

    <script>
        const baseUrl =
            window.location.hostname === "localhost"
                ? "http://localhost:5000/api"
                : "/api";

        async function loadTestimonials() {
            try {
                const res = await fetch(`${baseUrl}/testimonials`);
                const testimonials = await res.json();
                const container = document.getElementById("testimonials-container");

                container.innerHTML = testimonials.map(t => `
          <div class="testimonial-card">
            <h3>${t.name}</h3>
            <p><strong>${t.designation}</strong></p>
            <p>${t.message}</p>
            <p class="testimonial-date">${new Date(t.date).toDateString()}</p>
          </div>
        `).join('');
            } catch (err) {
                console.error("Error loading testimonials:", err);
            }
        }

        loadTestimonials();
    </script>
</body>

</html>